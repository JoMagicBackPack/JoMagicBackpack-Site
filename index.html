<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Jo’Magic Backpack</title>
  <meta name="description" content="Jo’Magic Backpack — a menagerie of vintage + new finds." />
  <link rel="icon" href="Assets/B2DF5D37-DEB2-47EE-B5D9-ABAB912A4739.png" />

  <style>
    /* ===== Theme ===== */
    :root{
      --bg:#05060a; --band:#0b0e15; --band-2:#0d111a; --card:#0f1218;
      --stroke:#232734; --text:#f5f7fb; --muted:#b8c0cc;
      --accent:#8bd3ff; --accent-2:#c9a9ff;
      --btn:#0d2536; --btn-hover:#113149;
      --ring:#2a95ff77; --shadow:0 20px 60px rgba(0,0,0,.45);
      --maxw:1200px; --content:980px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
    }
    a{color:var(--accent); text-decoration:none}
    a:focus-visible,button:focus-visible{outline:3px solid var(--ring); outline-offset:2px}

    .wrap{max-width:var(--maxw); margin:0 auto; padding:28px 16px 72px}
    .content{max-width:var(--content); margin:0 auto}

    /* ===== Hero ===== */
    .hero{
      position:relative; text-align:center; margin:0 0 18px; padding:8px 0 0; isolation:isolate;
    }
    .hero::before{
      content:""; position:absolute; inset:-30px 0 -10px;
      background:
        radial-gradient(480px 260px at 50% 5%, #0b1e2c 0%, transparent 60%),
        radial-gradient(520px 300px at 55% -5%, color-mix(in hsl, var(--accent), transparent 60%) 0%, transparent 70%),
        radial-gradient(500px 260px at 45% 0%, color-mix(in hsl, var(--accent-2), transparent 65%) 0%, transparent 70%);
      filter: blur(18px) saturate(120%); opacity:.9; z-index:-1;
    }
    .site-logo{width:min(70vw,320px); height:auto; filter:drop-shadow(0 8px 24px rgba(0,0,0,.55))}
    .tag{color:var(--muted); margin:10px 0 14px; font-size:clamp(16px,3.5vw,19px)}

    /* ===== Nav (centered) ===== */
    .actions{display:flex; gap:10px; justify-content:center; flex-wrap:wrap; margin:6px 0 0}
    .btn{
      display:inline-flex; align-items:center; gap:.6ch; cursor:pointer;
      padding:12px 16px; border-radius:12px; border:1px solid #1b2a36;
      background:var(--btn); color:var(--text); font-weight:700; box-shadow:var(--shadow);
      transition:transform .15s ease, background .15s ease, border-color .15s ease;
    }
    .btn:hover{background:var(--btn-hover); transform:translateY(-1px); border-color:color-mix(in srgb,var(--accent) 60%,#1b2a36)}
    .btn--primary{background:linear-gradient(180deg,#1a3a52,#0c2a3e); border-color:#214d68}
    .btn--primary:hover{background:linear-gradient(180deg,#224d6b,#123852)}
    .btn .ebay-logo{height:26px; width:auto; margin-right:8px; vertical-align:middle; display:inline-block}

    /* ===== Section shells ===== */
    .band{background:var(--band); border:1px solid var(--stroke); border-radius:16px; box-shadow:var(--shadow); padding:16px}
    .alt{background:var(--band-2)}
    .section-title{
      font:800 clamp(20px,3.6vw,28px)/1.05 system-ui,sans-serif; margin:0 0 6px; color:var(--accent);
      text-shadow:0 0 22px color-mix(in srgb,var(--accent) 25%, transparent)
    }
    .section-sub{margin:0 0 10px; color:var(--muted); font-size:clamp(14px,3.2vw,16px)}
    .about{color:var(--muted); line-height:1.6; font-size:clamp(15px,3.2vw,16px)}

    /* ===== Product grid ===== */
    .grid{display:grid; gap:12px; margin-top:10px}
    @media (min-width:540px){ .grid{grid-template-columns:repeat(2, minmax(0,1fr))} }
    @media (min-width:900px){ .grid{grid-template-columns:repeat(3, minmax(0,1fr))} }
    @media (min-width:1150px){ .grid{grid-template-columns:repeat(4, minmax(0,1fr))} }
    .card{
      background:var(--card); border:1px solid var(--stroke); border-radius:12px;
      padding:10px; display:grid; gap:8px; transition:transform .2s ease, border-color .2s ease; box-shadow:var(--shadow)
    }
    .card:hover{ transform:translateY(-3px); border-color:color-mix(in srgb,var(--accent) 45%, var(--stroke)) }
    .thumb{ width:100%; height:170px; object-fit:cover; border-radius:8px; background:#0b0e15; display:block }
    .title{ font-size:.95rem; line-height:1.28; height:2.6em; overflow:hidden; text-overflow:ellipsis }
    .price{ font-weight:800; color:var(--accent) }

    /* ===== Reviews (full-width band, centered content) ===== */
    .reviews-band{ padding:18px 0 }
    .reviews-inner{ max-width:900px; margin:0 auto; padding:0 12px }
    .jf-viewport{position:relative}
    .jf-track{ list-style:none; margin:0; padding:0; position:relative; overflow:hidden; height:auto; transition:height .28s ease }
    .jf-slide{ position:absolute; inset:0; transform:translateX(100%); transition:transform .35s ease }
    .jf-slide:first-child{ transform:translateX(0) }
    .jf-card{ background:var(--card); border:1px solid var(--stroke); border-radius:16px; padding:clamp(16px,4vw,28px); display:grid; gap:.8rem; box-shadow:var(--shadow) }
    .jf-quote{ margin:0; font-size:clamp(18px,4.6vw,26px); line-height:1.55 }
    .jf-meta{ margin:0; color:var(--muted); font-size:clamp(14px,3.2vw,16px) }
    .jf-controls{ display:grid; grid-template-columns:2.75rem 1fr 2.75rem; align-items:center; gap:.6rem; margin-top:.9rem }
    .jf-btn{ width:2.75rem; height:2.75rem; border-radius:999px; border:1px solid var(--stroke); background:#0f1117; color:var(--text); font-size:1.25rem }

    /* ===== Footer ===== */
    footer{color:#9aa3b1; font-size:12px; display:flex; gap:8px; justify-content:space-between; flex-wrap:wrap; margin-top:22px}
  </style>
</head>
<body>
  <main class="wrap">

    <!-- HERO -->
    <section class="hero content" aria-label="Banner">
      <img class="site-logo" src="Assets/B2DF5D37-DEB2-47EE-B5D9-ABAB912A4739.png" alt="Jo’Magic Backpack Logo" decoding="async" loading="eager" />
      <p class="tag">Vintage, new, and unpredictable. If it sparks curiosity, it goes in the pack.</p>
      <nav class="actions" aria-label="Site navigation">
       <a class="btn" href="mission.html">Mission Statement</a>
        <a class="btn" href="#fresh">New</a>
        <a class="btn" href="#reviews">Reviews</a>
        <a class="btn" href="mailto:hello@jomagicbackpack.com">Contact</a>
        <a class="btn btn--primary"
           href="https://ebay.us/m/xyWXiR"
           target="_blank"
           rel="noopener"
           aria-label="Visit the Jo’Magic Backpack eBay Store">
          <img src="Assets/IMG_0516.png" class="ebay-logo" alt="eBay logo" width="120" height="34" decoding="async">
          <span>Visit the eBay Store</span>
        </a>
      </nav>
    </section>

    <!-- ABOUT -->
    <section id="about" class="band alt content" aria-labelledby="about-title">
      <h2 class="section-title" id="about-title">About Jo’Magic Backpack</h2>
      <p class="about">
        Welcome! I hunt for pieces with story and spark — retro tech, cozy jackets, funky glassware, you name it.
        New finds drop often; check back or follow the eBay store for fresh listings.
      </p>
    </section>

    <!-- PRODUCTS (GRID) -->
    <section id="fresh" class="band content" aria-labelledby="products-title" style="margin-top:14px">
      <h2 class="section-title" id="products-title">Fresh in the Backpack</h2>
      <p class="section-sub">Live items from the eBay store</p>
      <div id="grid" class="grid" aria-live="polite" aria-busy="true">
        <!-- JS fills product cards here -->
      </div>
    </section>

    <!-- REVIEWS (full-width feel, centered inner) -->
    <section id="reviews" class="band alt reviews-band" aria-label="Buyer feedback" style="margin-top:14px">
      <div class="reviews-inner">
        <h2 class="section-title">What buyers are saying</h2>
        <p class="section-sub">Real feedback from real customers</p>

        <div class="jf-viewport" role="region" aria-roledescription="carousel" aria-label="Buyer testimonials" tabindex="0">
          <ul class="jf-track" id="jfTrack">
            <li class="jf-slide">
              <figure class="jf-card">
                <blockquote class="jf-quote">“Excellent super fast shipping and packing, exactly as described; awesome vintage solid copper mold. Very pleased with purchase—highly recommended. Would buy again. A+++++”</blockquote>
                <figcaption class="jf-meta">- nor-eastern (3588) · Past 6 months</figcaption>
              </figure>
            </li>
            <li class="jf-slide">
              <figure class="jf-card">
                <blockquote class="jf-quote">“Oh my gosh—what a great deal this seller had for me! Beautiful Uno de 50 bracelet at a bargain price. Very professional, expertly packed with thank you card inside. 5 Star Seller!”</blockquote>
                <figcaption class="jf-meta">- candschel (184) · Past year</figcaption>
              </figure>
            </li>
            <li class="jf-slide">
              <figure class="jf-card">
                <blockquote class="jf-quote">“I rarely leave feedback until I’m rated as a buyer. You must do something that delivers value to my experience and this seller did just that. Fantastic communication and item just as expected. Thank you for offering a level of customer contact that was unexpected and appreciated. 100% satisfied!”</blockquote>
                <figcaption class="jf-meta">- bennettangels3 (911) · Past year</figcaption>
              </figure>
            </li>
            <li class="jf-slide">
              <figure class="jf-card">
                <blockquote class="jf-quote">“Thank you for the vintage jacket that replaced the identical one I wore for 20 years! Could not be happier. Like new and it’s just exactly perfect!”</blockquote>
                <figcaption class="jf-meta">- scanimal68 (55) · More than a year ago</figcaption>
              </figure>
            </li>
          </ul>

          <div class="jf-controls">
            <button class="jf-btn" id="jfPrev" aria-label="Previous">‹</button>
            <div class="jf-dots" id="jfDots"></div>
            <button class="jf-btn" id="jfNext" aria-label="Next">›</button>
          </div>
        </div>
      </div>
    </section>

    <!-- FOOTER -->
    <footer class="content">
      <div>© <span id="y"></span> Jo’Magic Backpack</div>
      <div>Site by Jo’Magic Backpack • Hosted on Netlify</div>
    </footer>
  </main>

  <!-- Reviews Carousel JS -->
  <script>
    (() => {
      const track = document.getElementById('jfTrack');
      const slides = Array.from(track.children);
      const prev = document.getElementById('jfPrev');
      const next = document.getElementById('jfNext');
      const dotsWrap = document.getElementById('jfDots');
      const viewport = document.querySelector('#reviews .jf-viewport');
      let index = 0, timer = null;

      slides.forEach((_, i) => {
        const b = document.createElement('button');
        b.className = 'jf-dot'; b.type = 'button';
        b.setAttribute('aria-label', 'Go to slide ' + (i + 1));
        if (i === 0) b.setAttribute('aria-current', 'true');
        dotsWrap.appendChild(b);
      });
      const dots = Array.from(dotsWrap.children);

      function fitHeight(){
        const active = slides[index];
        if (!active) return;
        const h = active.scrollHeight;
        requestAnimationFrame(() => { track.style.height = h + 'px'; });
      }

      function show(i, user=false){
        index = (i + slides.length) % slides.length;
        slides.forEach((li, k) => {
          li.style.transform = (k === index) ? 'translateX(0)'
                           : (k < index ? 'translateX(-100%)' : 'translateX(100%)');
        });
        dots.forEach((d, k) => d.toggleAttribute('aria-current', k === index));
        fitHeight();
        if (user){ stop(); start(); }
      }

      // init
      slides.forEach(li => li.style.transform = 'translateX(100%)');
      if (slides[0]) slides[0].style.transform = 'translateX(0)';
      requestAnimationFrame(fitHeight);

      // controls
      prev.addEventListener('click', () => show(index - 1, true));
      next.addEventListener('click', () => show(index + 1, true));
      dots.forEach((d, k) => d.addEventListener('click', () => show(k, true)));

      // autoplay w/ reduced motion respect
      const reduce = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      function start(){ if(!reduce) timer = setInterval(() => show(index + 1), 5000); }
      function stop(){ clearInterval(timer); timer = null; }
      viewport.addEventListener('focusin', stop);
      viewport.addEventListener('focusout', start);
      window.addEventListener('resize', () => requestAnimationFrame(fitHeight), {passive:true});
      start();

      // touch swipe
      let startX = 0, endX = 0;
      viewport.addEventListener('touchstart',(e)=>{ startX = e.changedTouches[0].clientX; }, {passive:true});
      viewport.addEventListener('touchend',(e)=>{
        endX = e.changedTouches[0].clientX;
        const dx = endX - startX;
        if (Math.abs(dx) > 40) { if (dx < 0) show(index + 1, true); else show(index - 1, true); }
      }, {passive:true});

      document.getElementById('y').textContent = new Date().getFullYear();
    })();
  </script>

  <!-- Live eBay Products: GRID -->
  <script>
    document.addEventListener('DOMContentLoaded', async () => {
      const endpoint = `${location.origin}/.netlify/functions/ebay-listings?limit=16`;
      const grid = document.getElementById('grid');

      try {
        const res = await fetch(endpoint, { cache: 'no-store' });
        if (!res.ok) throw new Error(`HTTP ${res.status}`);
        const { products = [] } = await res.json();

        if (!products.length) {
          grid.setAttribute('aria-busy','false');
          grid.innerHTML = '<div class="about">eBay items unavailable right now.</div>';
          return;
        }

        grid.innerHTML = products.map(p => `
          <a class="card" href="${p.url}" target="_blank" rel="noopener" aria-label="${p.title}">
            <img class="thumb" src="${p.img}" alt="" loading="lazy" decoding="async">
            <div class="title">${p.title}</div>
            <div class="price">${p.price} ${p.currency || ''}</div>
          </a>
        `).join('');
        grid.setAttribute('aria-busy','false');
      } catch (err) {
        console.error('Failed to load eBay listings:', err);
        grid.setAttribute('aria-busy','false');
        grid.innerHTML = '<div class="about">eBay items unavailable right now.</div>';
      }
    });
  </script>
</body>
</html>
